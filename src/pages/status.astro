---
import Layout from '@layouts/Layout.astro';
import RoadWeatherStatus from '@components/RoadWeatherStatus.tsx';

const frontmatter = {
  title: 'Live Status',
  description: 'Real-time status of roads, weather, repeaters, and alerts for the ERSN network.',
};
---

<Layout frontmatter={frontmatter}>
  <div class="max-w-7xl mx-auto px-4 py-6">
    <div class="mb-6">
      <h1 class="text-2xl sm:text-3xl font-serif text-stone-800 mb-2">Live Status</h1>
      <p class="text-stone-600">
        Real-time information for ERSN members and emergency preparedness.
      </p>
    </div>

    <div class="space-y-8">
      <!-- Road and Weather Status -->
      <section id="overview">
        <RoadWeatherStatus client:load />
      </section>

      <!-- Repeater Status Section -->
      <section id="repeaters" class="bg-white border border-stone-300 rounded-sm p-6">
        <div class="flex items-center space-x-3 mb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="h-6 w-6 text-stone-700"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"
            ></path>
          </svg>
          <h2 class="text-xl font-serif text-stone-800">Repeater Network</h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Primary Repeater -->
          <div class="border border-stone-200 rounded-lg p-4">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center space-x-2">
                <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                <h3 class="font-medium text-stone-800">Forest Meadows</h3>
              </div>
              <span class="text-xs text-red-700 bg-red-100 px-2 py-1 rounded"> Offline </span>
            </div>
            <div class="text-sm text-stone-600">
              <div class="flex justify-between">
                <span>Frequency:</span>
                <span class="font-medium">462.725 MHz (20RP)</span>
              </div>
            </div>
          </div>

          <!-- Secondary Repeaters -->
          <div class="border border-stone-200 rounded-lg p-4">
            <div class="flex items-center justify-between mb-3">
              <div class="flex items-center space-x-2">
                <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                <h3 class="font-medium text-stone-800">Arnold Summit</h3>
              </div>
              <span class="text-xs text-green-700 bg-green-100 px-2 py-1 rounded">
                Operational
              </span>
            </div>
            <div class="text-sm text-stone-600">
              <div class="flex justify-between">
                <span>Frequency:</span>
                <span class="font-medium">462.725 MHz (20RP)</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</Layout>
